<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/pawsistant-icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pawsistant Dashboard - AI Call Assistant Analytics</title>
    <meta name="description" content="Monitor AI call assistant performance and appointment bookings for your veterinary clinic.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.css">
  </head>
  <body>
    <div id="dashboard-app">
      <!-- Dashboard Header -->
      <header class="dashboard-header">
        <div class="header-container">
          <div class="header-left">
            <div class="logo-section">
              <div class="logo-icon">
                <svg viewBox="0 0 32 32" class="dog-icon">
                  <!-- Dog head -->
                  <path d="M16 4c3.5 0 6.5 2.5 7.5 6l1.5 2c0.5 0.5 0.5 1.5 0 2l-1 1c-0.5 0.5-1.5 0.5-2 0l-0.5-0.5c-1 2-3 3.5-5.5 3.5s-4.5-1.5-5.5-3.5l-0.5 0.5c-0.5 0.5-1.5 0.5-2 0l-1-1c-0.5-0.5-0.5-1.5 0-2l1.5-2c1-3.5 4-6 7.5-6z" 
                        fill="url(#dogGradient)" opacity="0.9"/>
                  <!-- Dog ears -->
                  <ellipse cx="12" cy="8" rx="2" ry="4" fill="url(#dogGradient)" opacity="0.7" transform="rotate(-20 12 8)"/>
                  <ellipse cx="20" cy="8" rx="2" ry="4" fill="url(#dogGradient)" opacity="0.7" transform="rotate(20 20 8)"/>
                  <!-- Dog nose -->
                  <circle cx="16" cy="14" r="1.5" fill="var(--accent-teal)" opacity="0.8"/>
                  <!-- Dog eyes -->
                  <circle cx="13.5" cy="11" r="1" fill="rgba(255,255,255,0.9)"/>
                  <circle cx="18.5" cy="11" r="1" fill="rgba(255,255,255,0.9)"/>
                  <circle cx="13.5" cy="11" r="0.4" fill="rgba(127, 90, 240, 0.8)"/>
                  <circle cx="18.5" cy="11" r="0.4" fill="rgba(127, 90, 240, 0.8)"/>
                  
                  <!-- Gradient definition -->
                  <defs>
                    <linearGradient id="dogGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:var(--accent-purple);stop-opacity:0.8" />
                      <stop offset="100%" style="stop-color:var(--accent-teal);stop-opacity:0.6" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <div class="logo-text">
                <h1>Pawsistant Dashboard</h1>
                <p>AI Call Assistant Analytics</p>
              </div>
            </div>
          </div>
          <div class="header-right">
            <button class="btn-back" onclick="window.location.href='index.html'">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path d="M19 12H6m0 0l4-4m-4 4l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Back to Website
            </button>
            <div class="date-picker">
              <input type="date" id="date-filter" class="date-input">
              <label for="date-filter">Pick a date</label>
            </div>
          </div>
        </div>
      </header>

      <!-- Dashboard Stats -->
      <section class="stats-section">
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-icon">üìû</div>
            <div class="stat-content">
              <h3 class="stat-number" id="total-calls">247</h3>
              <p class="stat-label">Total Calls Today</p>
              <span class="stat-change positive">+12% from yesterday</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-content">
              <h3 class="stat-number" id="appointments-booked">89</h3>
              <p class="stat-label">Appointments Booked</p>
              <span class="stat-change positive">+8% booking rate</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">üÜï</div>
            <div class="stat-content">
              <h3 class="stat-number" id="new-patients">34</h3>
              <p class="stat-label">New Patients</p>
              <span class="stat-change positive">+15% this week</span>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">‚è±Ô∏è</div>
            <div class="stat-content">
              <h3 class="stat-number" id="avg-duration">2:45</h3>
              <p class="stat-label">Avg Call Duration</p>
              <span class="stat-change neutral">¬±0% vs target</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Main Dashboard Content -->
      <main class="dashboard-main">
        <div class="main-container">
          <!-- Filters and Search -->
          <div class="dashboard-controls">
            <div class="search-section">
              <div class="search-box">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                  <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
                </svg>
                <input type="text" placeholder="Search calls..." id="search-input" class="search-input">
              </div>
            </div>
            
            <div class="filter-section">
              <div class="filter-group">
                <label class="filter-label">Resolution Status</label>
                <select class="filter-select" id="resolution-filter">
                  <option value="">All Statuses</option>
                  <option value="appointment-scheduled">Appointment Scheduled</option>
                  <option value="new-patient">New Patient</option>
                  <option value="appointment-cancelled">Cancelled</option>
                  <option value="appointment-rescheduled">Rescheduled</option>
                  <option value="no-action">No Action</option>
                </select>
              </div>
              
              <div class="filter-group">
                <label class="filter-label">Call Outcome</label>
                <select class="filter-select" id="outcome-filter">
                  <option value="">All Outcomes</option>
                  <option value="assistant-ended-call">Assistant Completed</option>
                  <option value="customer-ended-call">Customer Ended</option>
                  <option value="assistant-forwarded-call">Forwarded</option>
                </select>
              </div>
              
              <button class="btn-refresh" id="refresh-data">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" stroke="currentColor" stroke-width="2"/>
                  <path d="M21 3v5h-5" stroke="currentColor" stroke-width="2"/>
                  <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" stroke="currentColor" stroke-width="2"/>
                  <path d="M8 16H3v5" stroke="currentColor" stroke-width="2"/>
                </svg>
                Refresh
              </button>
            </div>
          </div>

          <!-- Call Logs Table -->
          <div class="table-section">
            <div class="table-header">
              <h2>Call Logs</h2>
              <div class="view-options">
                <button class="view-btn active" data-view="table">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
                    <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
                    <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
                    <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Table
                </button>
                <button class="view-btn" data-view="appointments">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Appointments
                </button>
              </div>
            </div>
            
            <div class="table-container">
              <table class="calls-table" id="calls-table">
                <thead>
                  <tr>
                    <th class="sortable" data-sort="caller">
                      Caller
                      <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none">
                        <path d="M7 14l5-5 5 5" stroke="currentColor" stroke-width="2"/>
                      </svg>
                    </th>
                    <th class="sortable" data-sort="start">
                      Start
                      <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none">
                        <path d="M7 14l5-5 5 5" stroke="currentColor" stroke-width="2"/>
                      </svg>
                    </th>
                    <th class="sortable" data-sort="duration">
                      Duration
                      <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none">
                        <path d="M7 14l5-5 5 5" stroke="currentColor" stroke-width="2"/>
                      </svg>
                    </th>
                    <th>Status</th>
                    <th>End Reason</th>
                    <th>Outcomes</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="calls-table-body">
                  <!-- Table rows will be populated by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>

          <!-- Appointments View (Hidden by default) -->
          <div class="appointments-section" id="appointments-view" style="display: none;">
            <div class="appointments-grid" id="appointments-grid">
              <!-- Appointment cards will be populated by JavaScript -->
            </div>
          </div>
        </div>
      </main>

      <!-- Call Details Modal -->
      <div class="modal" id="call-details-modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Call Details</h3>
            <button class="modal-close" id="modal-close">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2"/>
                <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2"/>
              </svg>
            </button>
          </div>
          <div class="modal-body" id="modal-body">
            <!-- Call details will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <script src="dashboard.js"></script>
  </body>
</html>
